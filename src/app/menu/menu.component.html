<mat-menu #farm="matMenu">
  @for (type of state.state.current_city!.farms; track $index) {
    <button mat-menu-item (click)="state.SetBuildType(type)">{{type}}</button>
  }
</mat-menu>

<mat-menu #material="matMenu">
  @for (type of state.state.current_city!.materials; track $index) {
    <button mat-menu-item (click)="state.SetBuildType(type)">{{type}}</button>
  }
</mat-menu>

<mat-menu #workshop="matMenu">
  @for (type of state.state.current_city!.workshops; track $index) {
    <button mat-menu-item (click)="state.SetBuildType(type)">{{type}}</button>
  }
</mat-menu>

<mat-menu #infrastructure="matMenu">
  @for (type of state.state.current_city!.infrastructure; track $index) {
    <button mat-menu-item (click)="state.SetBuildType(type)">{{type}}</button>
  }
</mat-menu>

<mat-menu #terrain="matMenu">
  <button mat-menu-item (click)="state.SetTerrainType(Terrain.GRASS)">Grass</button>
  <button mat-menu-item (click)="state.SetTerrainType(Terrain.LAND)">Land</button>
  <button mat-menu-item (click)="state.SetTerrainType(Terrain.FOREST)">Forest</button>
  <button mat-menu-item (click)="state.SetTerrainType(Terrain.MOUNTAIN)">Mountain</button>
  <button mat-menu-item (click)="state.SetTerrainType(Terrain.SEA)">Sea</button>
</mat-menu>

<mat-menu #game="matMenu">
  <button mat-menu-item color="success" [matMenuTriggerFor]="terrain">Terra</button>
  <button mat-menu-item color="success" [matMenuTriggerFor]="city">Cities</button>
  <button mat-menu-item  (click)="this.state.Save()">Save</button>
  <button mat-menu-item  (click)="this.state.Load()">Load</button>
  <button mat-menu-item  (click)="this.state.Restart()">Restart</button>
  <button mat-menu-item  color="success" [matMenuTriggerFor]="reset">Reset</button>
</mat-menu>

<mat-menu #city="matMenu">
  @for (city of this.state.state.cities;track $index) {
    <button mat-menu-item  (click)="this.state.ChangeCity(city.name)">{{city.name}}</button>
  }
</mat-menu>

<mat-menu #reset="matMenu">
  <button mat-menu-item>Cancel</button>
  <button mat-menu-item  (click)="this.state.Reset()">Confirm</button>
</mat-menu>

<button class="top_button" mat-stroked-button color="success" (click)="state.SetBuildType(BuildingType.HOUSE)">House</button>
<button class="top_button" mat-stroked-button color="success" (click)="state.SetBuildType(BuildingType.WAREHOUSE)">Warehouse</button>
<button class="top_button" mat-stroked-button color="success" [matMenuTriggerFor]="farm">Farm</button>
<button class="top_button" mat-stroked-button color="success" [matMenuTriggerFor]="material">Material</button>
<button class="top_button" mat-stroked-button color="success" [matMenuTriggerFor]="workshop">Workshop</button>
<button class="top_button" mat-stroked-button color="success" [matMenuTriggerFor]="infrastructure">Infrastructure</button>
<button class="top_button" mat-stroked-button color="success" (click)="state.ClearSelection()"> Clear {{state.state.build_type}} </button>
<button class="top_button" mat-stroked-button color="success" (click)="state.SetBuildType(BuildingType.DELETE)">Delete</button>
<button class="top_button" mat-stroked-button color="success" [matMenuTriggerFor]="game">Menu</button>
